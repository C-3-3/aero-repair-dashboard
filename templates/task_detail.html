{% extends "base.html" %}
{% block title %}Task Details{% endblock %}

{% block content %}
<h2>🔍 Task Details</h2>

<p><strong>Work Order:</strong> {{ work_order.work_order_id }}</p>
<p><strong>Aircraft:</strong> {{ work_order.aircraft }}</p>
<p><strong>Location:</strong> {{ work_order.location }}</p>

<form method="POST">
  <label>Status:
    <select name="status">
      <option value="Open" {% if task.status == "Open" %}selected{% endif %}>Open</option>
      <option value="In Progress" {% if task.status == "In Progress" %}selected{% endif %}>In Progress</option>
      <option value="Done" {% if task.status == "Done" %}selected{% endif %}>Done</option>
    </select>
  </label>

  <br><br>

  <label>Comment:<br>
    <textarea name="comment" rows="4" cols="50" placeholder="Add any notes..."></textarea>
  </label>

  <br><br>

  <button type="submit">✅ Submit Update</button>
</form>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul style="margin-top: 1rem;">
      {% for category, message in messages %}
        <li><strong>{{ category.title() }}:</strong> {{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}


<p><strong>Next steps:</strong></p>
<ul>
  <li>Status dropdown (coming soon)</li>
  <li>Comment box for notes</li>
  <li>Save / Mark complete</li>
</ul>

<a href="{{ url_for('workorders') }}">← Back to Work Orders</a>
{% endblock %}
